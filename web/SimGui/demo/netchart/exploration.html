<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Test</title>
    <meta name="description" content="">
    <script src="js/jquery.js"></script>
    <script src="../../lib/netchart.js"></script>
</head>
<body>
<div id="chart" style="margin: 0 auto; clear:both;"></div>

<script type="text/javascript">
    $(document).ready(function() {
        chartOptions = {
            height: 800,
            container: $("#chart")[0],
            navigation:{
                mode:"focusnodes",
                initialNodes: ["3"],
                focusNodeExpansionRadius:1,
                focusHistoryRelevanceCooldown: 0.4,
                numberOfFocusNodes:3
            },
            data: {url:"data/test.json"},
            style:{nodeRules:{
                "radius":function(node){
                  node.radius = Math.max(0.2, node.relevance);
                },
                "image":function(node){

                    var image = null;
                    var sliceNo = 0;
                    var sliceSize = 239;

                    if (node.data.type == "person")
                    {
                        image = "./node-icons-male.png";
                    }else{
                        image = "./node-icons-case.png";
                    }

                    if (node.data.foreign){
                        sliceNo = 1;
                    } else {
                        sliceNo = 0;
                    }

                    node.image = image;
                    node.imageSlicing = [0, sliceNo*sliceSize,sliceSize,sliceSize];
                }
            }},
            events:{onClick:function(event){
                if (event.clickNode) chart.addFocusNode(event.clickNode.id);
                event.preventDefault()
            }}
        };
        chart = new NetChart(chartOptions);
    });
</script>
</body>
</html>
